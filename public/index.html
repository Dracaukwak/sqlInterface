<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Meta information and document title -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="app.title">SQLab</title>

    <!-- Main stylesheet -->
    <link rel="stylesheet" href="styles/main.css">

    <!-- Icon library (Font Awesome) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>

    <!-- Header with dynamic database name and left-positioned hamburger menu -->
    <header>
        <!-- Hamburger menu that contains language selector and theme toggle -->
        <div class="hamburger-menu">
            <i id="menu-toggle" class="fas fa-bars"></i>
            <div class="dropdown-menu">
                <!-- Language selector moved inside dropdown -->
                <div class="menu-item language-container">
                    <span class="menu-label" data-i18n="header.language">Language</span>
                    <select id="language-selector">
                        <option value="en">English</option>
                        <option value="fr">Fran√ßais</option>
                    </select>
                </div>
                <!-- Theme toggle moved inside dropdown -->
                <div class="menu-item theme-container">
                    <span class="menu-label" data-i18n="header.theme">Theme</span>
                    <i id="toggle-theme" class="fas fa-moon theme-icon" data-i18n-title="header.toggleTheme"
                        title="Toggle theme"></i>
                </div>
            </div>
        </div>

        <!-- Title -->
        <h1><span id="database-name" data-i18n="app.loading">Loading...</span></h1>
    </header>

    <!-- Context area for instructions and exercise description -->
    <div class="context-container">
        <div class="context-content">
            <p class="placeholder-text" data-i18n="context.placeholder">The context and exercise statement will appear
                here...</p>
        </div>
    </div>

    <!-- SQL query input zone (positioned above the tab navigation) -->
    <div class="query-container top-query">
        <textarea id="query-input" data-i18n-placeholder="query.placeholder"
            placeholder="Enter your SQL query here...">SELECT table_name FROM information_schema.tables WHERE table_schema = 'sqlab_island' LIMIT 10;</textarea>
    </div>

    <!-- Navigation tabs for switching between interface sections -->
    <div class="tabs">
        <div class="tab active" data-tab="business-tables" data-i18n="tabs.businessTables">Tables</div>
        <div class="tab" data-tab="schema" data-i18n="tabs.schema">Schema</div>
        <div class="tab" data-tab="execution">
            <span data-i18n="tabs.execution">Run</span> <i id="execute-btn" class="fas fa-play-circle execute-icon"></i>
        </div>
        <!-- Temporary button with no effect for now -->
        <div class="tab" data-tab="control">
            <span data-i18n="tabs.control">Check</span> <i id="check-btn" class="fas fa-check-circle execute-icon"></i>
        </div>
        <div class="tab" data-tab="notes" data-i18n="tabs.notes">Notes</div>
    </div>

    <!-- Business Tables tab content -->
    <div id="business-tables" class="tab-content active">
        <div id="business-tables-container">
            <div class="loading" data-i18n="businessTables.loading">Loading tables...</div>
        </div>
    </div>

    <!-- Schema tab content -->
    <div id="schema" class="tab-content">
        <div id="schema-container">

        </div>
    </div>

    <!-- SQL execution tab with results -->
    <div id="execution" class="tab-content">
        <div class="results" id="results">
            <div class="results-container">
                <table id="results-table">
                    <thead>
                        <tr>
                            <th data-i18n="execution.noResults">No results</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td data-i18n="execution.runPrompt">Run a query to see the results</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Control tab (future features) -->
    <div id="control" class="tab-content">
        <p data-i18n="control.description">This section will allow control over various aspects of the app.</p>
        <div id="control-container">
            <div class="info" data-i18n="control.developing">Feature under development...</div>
        </div>
    </div>

    <!-- Notes tab content -->
    <div id="notes" class="tab-content">
        <textarea id="notes-textarea" data-i18n-placeholder="notes.placeholder"
            placeholder="Write your notes here..."></textarea>
    </div>

    <!-- JavaScript modules -->
    <script src="tsv-loader.js"></script>
    <!-- Localization service should be loaded before main -->
    <script src="utils/localizationService.js"></script>
    <script type="module" src="main.js"></script>

</body>

</html>